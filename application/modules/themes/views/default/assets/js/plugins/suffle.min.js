/**
 * shuffle - jquery shuffle (filter portfolio)
 *
 **/
window.Modernizr=function(a,b,c){function d(a){q.cssText=a}function f(a,b){return typeof a===b}function g(a,b){return!!~(""+a).indexOf(b)}function h(a,b){for(var d in a){var e=a[d];if(!g(e,"-")&&q[e]!==c)return"pfx"==b?e:!0}return!1}function i(a,b,d){for(var e in a){var g=b[a[e]];if(g!==c)return d===!1?a[e]:f(g,"function")?g.bind(d||b):g}return!1}function j(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+v.join(d+" ")+d).split(" ");return f(b,"string")||f(b,"undefined")?h(e,b):(e=(a+" "+w.join(d+" ")+d).split(" "),i(e,b,c))}var r,C,F,k="2.6.2",l={},m=!0,n=b.documentElement,o="modernizr",p=b.createElement(o),q=p.style,t=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),u="Webkit Moz O ms",v=u.split(" "),w=u.toLowerCase().split(" "),x={},A=[],B=A.slice,D=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:o+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',o,'">',a,"</style>"].join(""),j.id=o,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=n.style.overflow,n.style.overflow="hidden",n.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),n.style.overflow=i),!!g},E={}.hasOwnProperty;F=f(E,"undefined")||f(E.call,"undefined")?function(a,b){return b in a&&f(a.constructor.prototype[b],"undefined")}:function(a,b){return E.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=B.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(B.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(B.call(arguments)))};return d}),x.csstransforms=function(){return!!j("transform")},x.csstransforms3d=function(){var a=!!j("perspective");return a&&"webkitPerspective"in n.style&&D("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b,c){a=9===b.offsetLeft&&3===b.offsetHeight}),a},x.csstransitions=function(){return j("transition")};for(var G in x)F(x,G)&&(C=G.toLowerCase(),l[C]=x[G](),A.push((l[C]?"":"no-")+C));return l.addTest=function(a,b){if("object"==typeof a)for(var d in a)F(a,d)&&l.addTest(d,a[d]);else{if(a=a.toLowerCase(),l[a]!==c)return l;b="function"==typeof b?b():b,"undefined"!=typeof m&&m&&(n.className+=" "+(b?"":"no-")+a),l[a]=b}return l},d(""),p=r=null,l._version=k,l._prefixes=t,l._domPrefixes=w,l._cssomPrefixes=v,l.testProp=function(a){return h([a])},l.testAllProps=j,l.testStyles=D,l.prefixed=function(a,b,c){return b?j(a,b,c):j(a,"pfx")},n.className=n.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(m?" js "+A.join(" "):""),l}(this,this.document),function(a,b){var d,c=a.jQuery||a.Cowboy||(a.Cowboy={});c.throttle=d=function(a,d,e,f){function i(){function k(){h=+new Date,e.apply(c,j)}function l(){g=b}var c=this,i=+new Date-h,j=arguments;f&&!g&&k(),g&&clearTimeout(g),f===b&&i>a?k():d!==!0&&(g=setTimeout(f?l:k,f===b?a-i:a))}var g,h=0;return"boolean"!=typeof d&&(f=e,e=d,d=b),c.guid&&(i.guid=e.guid=e.guid||c.guid++),i},c.debounce=function(a,c,e){return e===b?d(a,c,!1):d(a,e,c!==!1)}}(this),!function(a,b,c){"use strict";a.fn.sorted=function(b){var d=a.extend({},a.fn.sorted.defaults,b),e=this.get(),f=!1;return e.length?d.randomize?a.fn.sorted.randomize(e):(d.by!==a.noop&&null!==d.by&&d.by!==c&&e.sort(function(b,e){if(f)return 0;var g=d.by(a(b)),h=d.by(a(e));return g===c&&h===c?(f=!0,0):"sortFirst"===g||"sortLast"===h?-1:"sortLast"===g||"sortFirst"===h?1:h>g?-1:g>h?1:0}),f?this.get():(d.reverse&&e.reverse(),e)):[]},a.fn.sorted.defaults={reverse:!1,by:null,randomize:!1},a.fn.sorted.randomize=function(a){var b,c,d=a.length;if(!d)return a;for(;--d;)c=Math.floor(Math.random()*(d+1)),b=a[c],a[c]=a[d],a[d]=b;return a};var d=0,e=function(b,c){var f=this;a.extend(f,e.options,c,e.settings),f.$container=b,f.$window=a(window),f.unique="shuffle_"+d++,f._fire("loading"),f._init(),f._fire("done")};e.prototype={_init:function(){var b,c=this,d=a.proxy(c._onResize,c),e=c.throttle?c.throttle(c.throttleTime,d):d,f=c.initialSort?c.initialSort:null;c._setVars(),c._resetCols(),c._addClasses(),c._initItems(),c.$window.on("resize.shuffle."+c.unique,e),b=c.$container.css(["paddingLeft","paddingRight","position","width"]),"static"===b.position&&c.$container.css("position","relative"),c.offset={left:parseInt(b.paddingLeft,10)||0,top:parseInt(b.paddingTop,10)||0},c._setColumns(parseInt(b.width,10)),c.shuffle(c.group,f),c.supported&&setTimeout(function(){c._setTransitions(),c.$container[0].style[c.transitionName]="height "+c.speed+"ms "+c.easing},0)},_addClasses:function(){var a=this;return a.$container.addClass("shuffle"),a.$items.addClass("shuffle-item filtered"),a},_setVars:function(){var b=this;return b.$items=b._getItems(),b.transitionName=b.prefixed("transition"),b.transitionDelayName=b.prefixed("transitionDelay"),b.transitionDuration=b.prefixed("transitionDuration"),b.transform=b.getPrefixed("transform"),b.transitionend={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"}[b.transitionName],b.isFluid=b.columnWidth&&"function"==typeof b.columnWidth,0===b.columnWidth&&null!==b.sizer&&(b.columnWidth=b.sizer),"string"==typeof b.columnWidth?b.$sizer=b.$container.find(b.columnWidth):b.columnWidth&&b.columnWidth.nodeType&&1===b.columnWidth.nodeType?b.$sizer=a(b.columnWidth):b.columnWidth&&b.columnWidth.jquery&&(b.$sizer=b.columnWidth),b.$sizer&&b.$sizer.length&&(b.useSizer=!0,b.sizer=b.$sizer[0]),b},_filter:function(b,d){var e=this,f=d!==c,g=f?d:e.$items,h=a();return b=b||e.lastFilter,e._fire("filter"),a.isFunction(b)?g.each(function(){var c=a(this),d=b.call(c[0],c,e);d&&(h=h.add(c))}):(e.group=b,"all"!==b?g.each(function(){var c=a(this),d=c.data("groups"),f=e.delimeter&&!a.isArray(d)?d.split(e.delimeter):d,g=a.inArray(b,f)>-1;g&&(h=h.add(c))}):h=g),e._toggleFilterClasses(g,h),g=null,d=null,h},_toggleFilterClasses:function(b,c){var d="concealed",e="filtered";b.filter(c).each(function(){var b=a(this);b.hasClass(d)&&b.removeClass(d),b.hasClass(e)||b.addClass(e)}),b.not(c).each(function(){var b=a(this);b.hasClass(d)||b.addClass(d),b.hasClass(e)&&b.removeClass(e)})},_initItems:function(a){return a=a||this.$items,a.css(this.itemCss)},_updateItemCount:function(){return this.visibleItems=this.$items.filter(".filtered").length,this},_setTransition:function(a){var b=this;return a.style[b.transitionName]=b.transform+" "+b.speed+"ms "+b.easing+", opacity "+b.speed+"ms "+b.easing,a},_setTransitions:function(a){var b=this;return a=a||b.$items,a.each(function(){b._setTransition(this)}),b},_setSequentialDelay:function(b){var c=this;c.supported&&a.each(b,function(b){this.style[c.transitionDelayName]="0ms,"+(b+1)*c.sequentialFadeDelay+"ms",a(this).one(c.transitionend,function(){this.style[c.transitionDelayName]="0ms"})})},_getItems:function(){return this.$container.children(this.itemSelector)},_getPreciseDimension:function(b,c){var d;return d=window.getComputedStyle?window.getComputedStyle(b,null)[c]:a(b).css(c),parseFloat(d)},_setColumns:function(a){var b,c=this,d=a||c.$container.width(),e="function"==typeof c.gutterWidth?c.gutterWidth(d):c.useSizer?c._getPreciseDimension(c.sizer,"marginLeft"):c.gutterWidth;c.colWidth=c.isFluid?c.columnWidth(d):c.useSizer?c._getPreciseDimension(c.sizer,"width"):c.columnWidth||c.$items.outerWidth(!0)||d,c.colWidth=c.colWidth||d,c.colWidth+=e,b=(d+e)/c.colWidth,Math.ceil(b)-b<.01&&(b=Math.ceil(b)),c.cols=Math.floor(b),c.cols=Math.max(c.cols,1),c.containerWidth=d},_setContainerSize:function(){var a=this,b=Math.max.apply(Math,a.colYs);a.$container.css("height",b+"px")},_fire:function(a,b){this.$container.trigger(a+".shuffle",b&&b.length?b:[this])},_layout:function(b,c,d,e){var f=this;c=c||f.filterEnd,f.layoutTransitionEnded=!1,a.each(b,function(g){var h=a(b[g]),i=Math.ceil(h.outerWidth(!0)/f.colWidth);if(i=Math.min(i,f.cols),1===i)f._placeItem(h,f.colYs,c,d,e);else{var j,k,l=f.cols+1-i,m=[];for(k=0;l>k;k++)j=f.colYs.slice(k,k+i),m[k]=Math.max.apply(Math,j);f._placeItem(h,m,c,d,e)}}),f._processStyleQueue(),f._setContainerSize()},_resetCols:function(){var a=this.cols;for(this.colYs=[];a--;)this.colYs.push(0)},_reLayout:function(a,b){var c=this;a=a||c.filterEnd,c._resetCols(),c.keepSorted&&c.lastSort?c.sort(c.lastSort,!0,b):c._layout(c.$items.filter(".filtered").get(),c.filterEnd,b)},_placeItem:function(a,b,c,d,e){for(var f=this,g=Math.min.apply(Math,b),h=0,i=0,j=b.length;j>i;i++)if(b[i]>=g-f.buffer&&b[i]<=g+f.buffer){h=i;break}var k=f.colWidth*h,l=g;k=Math.round(k+f.offset.left),l=Math.round(l+f.offset.top),a.data({x:k,y:l});var m=g+a.outerHeight(!0),n=f.cols+1-j;for(i=0;n>i;i++)f.colYs[h+i]=m;var o={from:"layout",$this:a,x:k,y:l,scale:1};d?o.skipTransition=!0:(o.opacity=1,o.callback=c),e&&(o.opacity=0),f.styleQueue.push(o)},_shrink:function(b,c){var d=this,e=b||d.$items.filter(".concealed"),f={},g=c||d.shrinkEnd;e.length&&(d._fire("shrink"),d.shrinkTransitionEnded=!1,e.each(function(){var b=a(this),c=b.data();f={from:"shrink",$this:b,x:c.x,y:c.y,scale:.001,opacity:0,callback:g},d.styleQueue.push(f)}))},_onResize:function(){var a,b=this;b.enabled&&!b.destroyed&&(a=b.$container.width(),a!==b.containerWidth&&b.resized())},setPrefixedCss:function(a,b,c){a.css(this.prefixed(b),c)},getPrefixed:function(a){var b=this.prefixed(a);return b?b.replace(/([A-Z])/g,function(a,b){return"-"+b.toLowerCase()}).replace(/^ms-/,"-ms-"):b},transition:function(b){var d,e=this,f=function(){e.layoutTransitionEnded||"layout"!==b.from?e.shrinkTransitionEnded||"shrink"!==b.from||(b.callback.call(e),e.shrinkTransitionEnded=!0):(e._fire("layout"),b.callback.call(e),e.layoutTransitionEnded=!0)};if(b.callback=b.callback||a.noop,e.supported)b.scale===c&&(b.scale=1),d=e.threeD?"translate3d("+b.x+"px, "+b.y+"px, 0) scale3d("+b.scale+", "+b.scale+", 1)":"translate("+b.x+"px, "+b.y+"px) scale("+b.scale+", "+b.scale+")",b.x!==c&&e.setPrefixedCss(b.$this,"transform",d),b.opacity!==c&&b.$this.css("opacity",b.opacity),b.$this.one(e.transitionend,f);else{var g={left:b.x,top:b.y,opacity:b.opacity};b.$this.stop(!0).animate(g,e.speed,"swing",f)}},_processStyleQueue:function(){var b=this,c=b.styleQueue;a.each(c,function(a,c){c.skipTransition?b._skipTransition(c.$this[0],function(){b.transition(c)}):b.transition(c)}),b.styleQueue.length=0},shrinkEnd:function(){this._fire("shrunk")},filterEnd:function(){this._fire("filtered")},sortEnd:function(){this._fire("sorted")},_skipTransition:function(b,c,d){var e,f=this,g=f.transitionDuration,h=b.style[g];b.style[g]="0ms",a.isFunction(c)?c():b.style[c]=d,e=b.offsetWidth,b.style[g]=h},_addItems:function(a,b,d){var e,f,g=this;g.supported||(b=!1),a.addClass("shuffle-item"),g._initItems(a),g._setTransitions(a),g.$items=g._getItems(),a.css("opacity",0),e=g._filter(c,a),f=e.get(),g._updateItemCount(),b?(g._layout(f,null,!0,!0),d&&g._setSequentialDelay(e),g._revealAppended(e)):g._layout(f)},_revealAppended:function(b){var c=this;setTimeout(function(){b.each(function(b,d){c.transition({from:"reveal",$this:a(d),opacity:1})})},c.revealAppendedDelay)},shuffle:function(a,b){var c=this;c.enabled&&(a||(a="all"),c._filter(a),c.lastFilter=a,c._updateItemCount(),c._resetCols(),c._shrink(),b&&(c.lastSort=b),c._reLayout())},sort:function(a,b,c){var d=this,e=d.$items.filter(".filtered").sorted(a);b||d._resetCols(),d._layout(e,function(){b&&d.filterEnd(),d.sortEnd()},c),d.lastSort=a},resized:function(a){this.enabled&&(a||this._setColumns(),this._reLayout())},layout:function(){this.update(!0)},update:function(a){this.resized(a)},appended:function(a,b,c){b=b===!1?!1:!0,c=c===!1?!1:!0,this._addItems(a,b,c)},disable:function(){this.enabled=!1},enable:function(a){this.enabled=!0,a!==!1&&this.update()},remove:function(a){if(a.length&&a.jquery){var b=this;return b._shrink(a,function(){var b=this;a.remove(),setTimeout(function(){b.$items=b._getItems(),b.layout(),b._updateItemCount(),b._fire("removed",[a,b]),a=null},0)}),b._processStyleQueue(),b}},destroy:function(){var a=this;a.$window.off("."+a.unique),a.$container.removeClass("shuffle").removeAttr("style").removeData("shuffle"),a.$items.removeAttr("style").removeClass("concealed filtered shuffle-item"),a.destroyed=!0}},e.options={group:"all",speed:250,easing:"ease-out",itemSelector:"",sizer:null,gutterWidth:0,columnWidth:0,delimeter:null,buffer:0,initialSort:null,throttle:a.throttle||null,throttleTime:300,sequentialFadeDelay:150,supported:b.csstransforms&&b.csstransitions},e.settings={$sizer:null,useSizer:!1,itemCss:{position:"absolute",top:0,left:0},offset:{top:0,left:0},revealAppendedDelay:300,keepSorted:!0,enabled:!0,destroyed:!1,styleQueue:[],prefixed:b.prefixed,threeD:b.csstransforms3d},a.fn.shuffle=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),f=d.data("shuffle");f||(f=new e(d,b),d.data("shuffle",f)),"string"==typeof b&&f[b]&&f[b].apply(f,c)})}}(jQuery,Modernizr);
